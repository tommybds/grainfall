/* Responsive rules extracted from styles.css */

/* --- Desktop: make lists look like mobile (2 columns) --- */
@media (min-width: 720px) {
  /* Two-column lists for map/difficulty/heroes like mobile */
  #startMenu .mapList {
    grid-template-columns: 1fr 1fr;
  }

  /* Compact, mobile-like truncation */
  #startMenu .mapBtn,
  #startMenu .diffBtn,
  #startMenu .heroBtn,
  #startMenu .menuBtn,
  #startMenu .menuSelect {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Give the menu a bit more vertical room on desktop */
  .panel {
    max-height: calc(100vh - 24px);
  }
}

/* --- Desktop: make HP bar bigger/readable --- */
@media (min-width: 900px) {
  .hpBar {
    width: min(560px, 44vw);
    height: 24px;
  }
  .hpText {
    font-size: 11px;
    letter-spacing: 0.12em;
    right: 8px;
  }
  .xpBar {
    width: min(560px, 44vw);
    height: 20px;
  }
  .xpText {
    font-size: 10px;
    letter-spacing: 0.12em;
    right: 8px;
  }
}

/* --- Desktop: when height is tight, hide verbose blocks (avoid scroll) --- */
@media (min-width: 720px) and (max-height: 860px) {
  #startMenu .rules,
  #startMenu .hint,
  #startMenu .links {
    display: none;
  }
  /* Hero card gets tall; keep it compact */
  #startMenu .heroStats {
    display: none;
  }
  #startMenu .heroCard {
    padding: 8px 8px;
  }
}

/* --- Mobile: prevent horizontal overflow that shifts layout (iOS/Chrome) --- */
@media (max-width: 560px) {
  .topbar {
    /* Switch to a compact 2-row layout */
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: auto auto;
    align-items: center;
    gap: 6px;
    padding: 10px 12px;
  }

  /* Allow flex children to actually shrink (prevents page from becoming wider than viewport) */
  .brand,
  .hudWrap,
  .hud {
    min-width: 0;
  }

  /* Put HUD + buttons on their own row */
  .hudWrap {
    width: 100%;
    justify-content: initial;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    grid-template-rows: auto auto;
    align-items: start;
    gap: 8px;
  }
  /* Row 1: HUD + HP bar (full width). Row 2: 3 buttons aligned. */
  .hudCol { grid-column: 1 / -1; justify-items: start; }
  #btnSoundTop { grid-row: 2; grid-column: 1; }
  #btnPauseTop { grid-row: 2; grid-column: 2; }
  #btnDashTop { grid-row: 2; grid-column: 3; }
  .hpBar { width: 100%; }
  .xpBar { width: 100%; }
  .hpBar { height: 20px; }
  .xpBar { height: 16px; }
  .xpText { font-size: 10px; }
  .pauseBtn { width: 100%; text-align: center; }

  /* Compact typography in topbar */
  .logo { font-size: 12px; letter-spacing: 0.22em; }
  .sub { font-size: 11px; }
  .pauseBtn { padding: 6px 8px; font-size: 11px; }

  /* HUD: single line, horizontally scrollable (compact + no layout shift) */
  .hud {
    font-size: 11px;
    gap: 10px;
    white-space: nowrap;
    flex-wrap: nowrap;
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
  }
  .hud::-webkit-scrollbar { display: none; } /* WebKit */

  /* HUD: keep the most useful stats on mobile */
  .hud > span:nth-child(3),
  .hud > span:nth-child(4),
  .hud > span:nth-child(8) {
    display: none;
  }

  /* Menu panel: make it less tall on mobile */
  .panel {
    padding: 12px 12px 10px;
    width: min(560px, calc(100vw - 24px));
    max-height: calc(100vh - 120px);
    overflow: auto;
  }
  .title { font-size: 13px; margin-bottom: 8px; }
  .maps { margin-bottom: 8px; }
  .mapsTitle { font-size: 10px; margin-bottom: 4px; }
  .mapList {
    gap: 5px;
    grid-template-columns: 1fr 1fr;
  }
  .mapBtn,
  .diffBtn,
  .heroBtn,
  .menuBtn {
    font-size: 12px;
    padding: 8px 8px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .menuBtns { margin-top: 8px; gap: 6px; }
  .heroCard { margin-top: 8px; padding: 8px 8px; }
  .heroGlyph { font-size: 16px; }
  /* Hero card is tall; keep only the header on small screens */
  .heroStats { display: none; }

  /* Hide dev footer to free vertical space */
  .footer { display: none; }

  /* Optional: rules are verbose on small screens */
  .rules { display: none; }
  .hint { margin-top: 8px; font-size: 11px; }
}

